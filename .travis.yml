language: java
jdk:
  - oraclejdk8

env:
  - HADOOP_PROFILE=default
  - HADOOP_PROFILE=hadoop-1
  - HADOOP_PROFILE=cdh4
  - HADOOP_PROFILE=cdh5
cache:
  directories:
    - $HOME/.m2

install: mvn -q install -DskipTests=true -Dmaven.javadoc.skip=true -Dsource.skip=true -DjavaVersion=1.8
before_script: umask 0022
script: mvn test -P $HADOOP_PROFILE -DjavaVersion=1.8

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/474ff698bda62f1804a6
    on_success: change  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: false     # default: false
