<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Kite SDK Development Guide</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Documentation for the Kite open source project on GitHub.">
    <link rel="canonical" href="http://kitesdk.org/docs/current/guide/Kite-Data-Module-Overview/">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/docs/current/guide/css/main.css">

</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/docs/current/guide/">Kite SDK Development Guide</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          <a class="page-link" href="/docs/current/guide/about/">About</a>
        
          <a class="page-link" href="/docs/current/guide/Column-Mapping/"></a>
        
          <a class="page-link" href="/docs/current/guide/feed.xml"></a>
        
          <a class="page-link" href="/docs/current/guide/HBase-Storage-Cells/"></a>
        
          <a class="page-link" href="/docs/current/guide/index.html"></a>
        
          <a class="page-link" href="/docs/current/guide/Inferring-a-Schema-from-a-Java-Class/"></a>
        
          <a class="page-link" href="/docs/current/guide/Inferring-a-Schema-from-an-Avro-Data-File/"></a>
        
          <a class="page-link" href="/docs/current/guide/Kite-Data-Module-Overview/"></a>
        
          <a class="page-link" href="/docs/current/guide/Kite-Dataset-Command-Line-Interface/"></a>
        
          <a class="page-link" href="/docs/current/guide/Kite-SDK-Guide/"></a>
        
          <a class="page-link" href="/docs/current/guide/Parquet-vs-Avro-Format/"></a>
        
          <a class="page-link" href="/docs/current/guide/Partitioned-Datasets/"></a>
        
          <a class="page-link" href="/docs/current/guide/Using-the-Kite-CLI-to-Create-a-Dataset/"></a>
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1></h1>
  </header>

  <article class="post-content">
  <h2 id="kite-data-module-overview">Kite Data Module Overview</h2>

<p>The Kite Data module is a set of APIs for interacting with data in Hadoop, specifically direct reading and writing of datasets in storage subsystems such as the Hadoop Distributed FileSystem (HDFS).</p>

<p>These APIs do not replace or supersede any of the existing Hadoop APIs. Instead, the Data module streamlines application of those APIs. You still use HDFS and Avro APIs directly, when necessary. The Kite Data module reflects best practices for default choices, data organization, and metadata system integration.</p>

<p>Limiting your options is not the goal. The Kite Data module is designed to be immediately useful, obvious, and in line with what most users do most frequently. Whenever revealing an option creates complexity, or otherwise requires you to research and assess additional choices, the option is omitted.</p>

<p>The data module contains APIs and utilities for defining and performing actions on datasets.</p>

<ul>
  <li><a href="#entities">entities</a></li>
  <li><a href="#schemas">schemas</a></li>
  <li><a href="#datasets">datasets</a></li>
  <li><a href="#repository">repositories</a></li>
  <li><a href="#loading">loading data</a></li>
  <li><a href="#viewing">viewing data</a></li>
</ul>

<p>Many of these objects are interfaces, permitting multiple implementations, each with different functionality. The current release contains an implementation of each of these components for the Hadoop FileSystem abstraction (found in the org.kitesdk.data.filesystem package), for Hive (found in the org.kitesdk.data.hcatalog package), and for HBase.</p>

<p>While, in theory, any implementation of Hadoopâ€™s FileSystem abstract class is supported by the Kite Data module, only the local and HDFS filesystem implementations are tested and officially supported.</p>

<h3 id="entities">Entities</h3>

<p>An entity is a single record in a dataset. The name <em>entity</em> is a better term than <em>record</em>, because <em>record</em> sounds as if it is a simple list of primitives, while <em>entity</em> sounds more like a Plain Old Java Object you would find in a JPA class (see <a href="https://en.wikipedia.org/wiki/Java_Persistence_API#Entities">JPA Entity</a> in Wikipedia.org). That said, <em>entity</em> and <em>record</em> are often used interchangeably when talking about datasets. </p>

<p>Entities can be simple types, representing data structures with a few string attributes, or as complex as required.</p>

<p>Best practices are to define the output for your system, identifying all of the field values required to produce the report or analytics results you need. Once you identify your required fields, you define one or more related entities where you store the information you need to create your output. Define the format and structure for your entities using a schema.</p>

<h3 id="schemas">Schemas</h3>

<p>A schema defines the field names and datatypes for a dataset. Kite relies on an Apache Avro schema definition for each dataset. For example, this is the schema definition for a table listing movies from the <code>movies.csv</code> dataset.&amp;asterisk;</p>

<p><code>json
{
  "type":"record",
  "name":"Movie",
  "namespace":"org.kitesdk.examples.data",
  "fields":[
    {"name":"id","type":"int"},
    {"name":"title","type":"string"},
    {"name":"releaseDate","type":"string"},
    {"name":"imdbUrl","type":"string"}
  ]
}
</code></p>

<p>The goal is to get the schema into <code>.avsc</code> format and store it in the Hadoop file system. There are several ways to get the schema into the correct format. The following links provide examples for some of these approaches.</p>

<table>
  <thead>
    <tr>
      <th>Java API</th>
      <th>Command Line Interface</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="Inferring-a-Schema-from-a-Java-Class/">Inferring a schema from a Java Class</a></td>
      <td><a href="Kite-Dataset-Command-Line-Interface/index.html#objSchema">Inferring a schema from a Java class</a></td>
    </tr>
    <tr>
      <td><a href="Inferring-a-Schema-from-an-Avro-Data-File">Inferring a schema from an Avro data file</a></td>
      <td><a href="Kite-Dataset-Command-Line-Interface/index.html#csvSchema">Inferring a schema from a CSV file</a></td>
    </tr>
  </tbody>
</table>

<h3 id="datasets">Datasets</h3>
<p>A dataset is a collection of zero or more entities, represented by the interface Dataset. The relational database analog of a dataset is a table.</p>

<p>The HDFS implementation of a dataset is stored as Snappy-compressed Avro data files by default. The HDFS implementation is made up of zero or more files in a directory. You also have the option of storing your dataset in the column-oriented Parquet file format.</p>

<p>Performance can be enhanced by defining a <a href="https://github.com/kite-sdk/kite/wiki/Partitioned-Datasets">partition strategy</a> for your dataset.</p>

<p>You can work with a subset of dataset entities using the Views API.</p>

<h3 id="dataset-repository">Dataset Repository</h3>

<p>A <em>dataset repository</em> is a physical storage location for datasets. Keeping with the relational database analogy, a dataset repository is the equivalent of a database of tables.</p>

<p>You can organize datasets into different dataset repositories for reasons related to logical grouping, security and access control, backup policies, and so on.</p>

<p>A dataset repository is represented by instances of the <code>org.kitesdk.data.DatasetRepository</code> interface in the Kite Data module. An instance of <code>DatasetRepository</code> acts as a factory for datasets, supplying methods for creating, loading, and deleting datasets.</p>

<p>Each dataset belongs to exactly one dataset repository. Kite doesn&apos;t provide built-in support for moving or copying datasets between repositories. MapReduce and other execution engines provide copy functionality, if you need it.</p>

<h3 id="loading-data-from-csv">Loading data from CSV</h3>

<p>You can load comma separated value data into a dataset repository using the command line interface function <a href="Kite-Dataset-Command-Line-Interface/index.html#csvImport">csv-import</a>. </p>

<h3 id="viewing-your-data">Viewing Your Data</h3>

<p>Datasets you create Kite are no different than any other Hadoop dataset in your system, once created. You can query the data with Hive or view it using Impala.</p>

<p>For quick verification that your data has loaded properly, you can view the top <em>n</em> records in your dataset using the command line interface function <a href="Kite-Dataset-Command-Line-Interface/index.html#show">show</a>.</p>

<hr />
<p>*The MovieLens data set was created by the GroupLens Research Group at the University of Minnesota and is available at <a href="http://grouplens.org/datasets/movielens/">http://grouplens.org/datasets/movielens/</a> .</p>

  </article>

</div>
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <h2 class="footer-heading">Kite SDK Development Guide</h2>

    <div class="footer-col-1 column">
      <ul>
        <li>Kite SDK Development Guide</li>
        <li><a href="mailto:cdk-dev@cloudera.org">cdk-dev@cloudera.org</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username"></span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username"></span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text">Documentation for the Kite open source project on GitHub.</p>
    </div>

  </div>

</footer>


    </body>
</html>